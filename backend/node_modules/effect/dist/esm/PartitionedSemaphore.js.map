{"version":3,"file":"PartitionedSemaphore.js","names":["Effect","Iterable","MutableHashMap","Option","TypeId","makeUnsafe","options","maxPermits","Math","max","permits","Number","isFinite","withPermits","effect","totalPermits","waitingPermits","partitions","empty","take","key","async","resume","never","void","needed","taken","waiters","getOrElse","get","set","Set","entry","cleanup","delete","size","remove","add","sync","releaseUnsafe","iterator","Symbol","state","next","done","unsafeHead","value","takePermits","release","matchCauseEffect","onFailure","cause","failCause","onSuccess","succeed","uninterruptibleMask","restore","flatMap","make"],"sources":["../../src/PartitionedSemaphore.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}